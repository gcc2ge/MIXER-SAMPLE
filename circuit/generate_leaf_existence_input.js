const fs = require("fs");
const mimcjs = require("../circomlib/src/mimc7.js");


const nullifierHash = mimcjs.hash(255,0)

const root= "21150603275199036235447464146889900632582816435445773009431960038115036290869"

// console.info(nullifierHash.toString())

// 主要是这里
// root，paths2_root，paths2_root_pos 从链上获得
// nullifierHash 链下计算  leaf_index + secret

const inputs = {
    "root":root,
    "nullifierHash":nullifierHash.toString(),

    "secret":"0",
    "paths2_root":[
    	"0",
        "11730251359286723731141466095709901450170369094578288842486979042586033922425",
        "9246143820134657901174176070515121907817622693387763521229610032056676659170",
        "3919701857960328675810908960351443394156342162925591865624975500788003961839",
        "11868459870544964516983456008242250460119356993157504951373700810334626455267",
        "17452340833314273101389791943519612073692685328163719737408744891984034913325",
        "5253775198292439148470029927208469781432760606734473405438165226265735347735",
        "9586203148669237657308746417333646936338855598595657703565568663564319347700"
	],
    "paths2_root_pos":[
    	1,
    	1,
    	1,
    	1,
    	1,
    	1,
    	1,
    	1
    ]
}

console.info(inputs)

fs.writeFileSync(
    "./input.json",
    JSON.stringify(inputs),
    "utf-8"
);

// test


// var a = mimcjs.hash("11730251359286723731141466095709901450170369094578288842486979042586033922425","0")
// // 1,0
// console.info(a)
// a =mimcjs.hash(a,"11730251359286723731141466095709901450170369094578288842486979042586033922425")
// // 2,0
// console.info(a)
// a =mimcjs.hash(a,"9246143820134657901174176070515121907817622693387763521229610032056676659170")
// //3,0
// console.info(a)
// a =mimcjs.hash(a,"3919701857960328675810908960351443394156342162925591865624975500788003961839")
// // 4,0
// console.info(a)
// a =mimcjs.hash(a,"11868459870544964516983456008242250460119356993157504951373700810334626455267")
// // 5,0
// console.info(a)
// a =mimcjs.hash(a,"17452340833314273101389791943519612073692685328163719737408744891984034913325")
// // 6,0
// console.info(a)
// a =mimcjs.hash(a,"5253775198292439148470029927208469781432760606734473405438165226265735347735")
// // 7,0
// console.info(a)



// a =mimcjs.hash(a,"9586203148669237657308746417333646936338855598595657703565568663564319347700")
// console.info(a)


